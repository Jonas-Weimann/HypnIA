<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/login-register.css">
    <title>Iniciar sesion</title>
</head>
<body>
    <div id="header"></div>
    <script src="./assets/js/header.js"></script>
    <main class="register">
        <div class="register-container">
            <br><h1>Registro</h1>
            <form action="https://localhost:3000/api/usuarios/registrar" id="registerForm" method="post">
                <div class="input-box">
                    <input type="text" id="nombre-usuario" name="nombre-usuario" required placeholder="nombre de usuario"> <br>
                </div>
                <div class="input-box">
                    <input type="text" id="email" name="email" required placeholder="email"> <br>
                </div>
                <div class="input-box">
                    <input type="password" id="password" name="contrasena" required placeholder="contrase単a"> <br>
                </div>
                <div class="input-box">
                    <input type="password" id="confirmPassword" name="confirmar-contrasena" required placeholder="confirmar contrase単a"> <br><br>
                </div>
                <div class="input-box">
                    <input type="checkbox" id="aceptar-terminos" name="aceptar-terminos" value="terminos" required>
                    <label style="color: #734775" for="aceptar-terminos">Aceptar terminos y condiciones</label>
                </div>
                <div id="message"></div>
                <div class="registrar">
                    <input type="submit" id="registrarse" name="registrarse" value="Registrarse">
                </div>
            </form>
            <div class="iniciar-sesion">
                <br><a href="login.html">Iniciar sesion</a><br>
            </div>
        </div>
    </main>
    <script>
        const checkPassword = () => {
        let password = document.getElementById("password").value;
        let confirmPassword = document.getElementById("confirmPassword").value;
        let message = document.getElementById("message");
        if (password.length < 8) {
            message.innerHTML = "La contrase単a debe tener al menos 8 caracteres<br/>";
            message.style.color = "red";
            return false;
        }
        if (password !== confirmPassword) {
            message.innerHTML = "Las contrase単as no coinciden<br/>";
            message.style.color = "red";
            return false;
        }
        message.innerHTML = "";
        return true;
        };

        const form = document.getElementById("registerForm");

        form.addEventListener("submit", (e) => {
        e.preventDefault();
        if (!checkPassword()) return;
        form.submit();
        });
    </script>
</body>